(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{46601:function(){},42480:function(){},59832:function(e,n,t){Promise.resolve().then(t.bind(t,76774))},76774:function(e,n,t){"use strict";t.r(n);var i=t(57437),l=t(28782),a=t(87099),c=t(2265),o=t(75895),s=t(81978),r=t(59405),u=t(89028),d=t(8496),y=t(73450),p=t(9560),f=t(14292),m=t(45429);let g=(0,r.ZL)("H7vsJzJWPyfsgYnxpe7FyNADPpB9MM3pM5PwFudguuUk");n.default=()=>{let e=(0,l.O)(),[n,t]=(0,c.useState)(!1),[h,b]=(0,c.useState)(!1),[M,x]=(0,c.useState)(null),[k,v]=(0,c.useState)(null),C=(0,o.i)("https://api.devnet.solana.com").use((0,p.t)(e)).use((0,s.mplCandyMachine)()),K=new m.nh("3P5FnLfmvCxaswj68jNqZtKRZckk4H3YHpojfnhMe78W"),w=new m.ew((0,m.Wf)("devnet"));(0,c.useEffect)(()=>{b(!0),N();let e=w.onAccountChange(K,async(e,n)=>{console.log("Candy Machine account changed"),await N()});return()=>{w.removeAccountChangeListener(e)}},[]);let N=async()=>{try{let e=await (0,s.fetchCandyMachine)(C,(0,r.ZL)("3P5FnLfmvCxaswj68jNqZtKRZckk4H3YHpojfnhMe78W"));v(e);let n=Number(e.data.itemsAvailable),t=Number(e.itemsRedeemed);x(n-t),console.log("Items Available:",n),console.log("Items Redeemed:",t),console.log("Remaining NFTs:",n-t)}catch(e){console.error("Error fetching candy machine state:",e)}},j=async()=>{if(!e.publicKey){alert("Please connect your wallet first!");return}t(!0);try{let e=(0,u.kH)(C);if(console.log("Candy Machine Public Key:",null==k?void 0:k.publicKey),console.log("NFT Mint Public Key:",e.publicKey),console.log("Identity Public Key:",C.identity.publicKey),!k||!k.publicKey||!e.publicKey||!C.identity.publicKey){alert("One or more required public keys are missing."),t(!1);return}await (0,d.T)().add((0,f.setComputeUnitLimit)(C,{units:13e5})).add((0,s.mintV2)(C,{candyMachine:k.publicKey,nftMint:e,collectionMint:k.collectionMint,collectionUpdateAuthority:k.authority,tokenStandard:k.tokenStandard,mintArgs:{solPayment:(0,y.G)({destination:g})}})).sendAndConfirm(C),console.log("Minting successful!"),alert("NFT Minted Successfully!"),await N()}catch(e){console.error("Minting error:",e),alert("Minting failed. Please try again.")}t(!1)};return(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},children:[h&&(0,i.jsx)(a.a,{}),e.publicKey&&h&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{marginTop:"20px",fontSize:"18px"},children:null!==M?"Remaining NFTs: ".concat(M):"Loading..."}),(0,i.jsx)("button",{onClick:j,disabled:n||0===M,style:{marginTop:"20px",padding:"10px 20px",fontSize:"16px"},children:n?"Minting...":"Mint Random NFT"})]})]})}}},function(e){e.O(0,[814,445,452,971,23,744],function(){return e(e.s=59832)}),_N_E=e.O()}]);